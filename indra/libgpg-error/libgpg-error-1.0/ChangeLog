2004-07-30  Werner Koch  <wk@g10code.de>

	Released 1.0.
	
	* configure.ac: Bumbed version to 1.0, LT to C1/A1/R3.

2004-07-15  Werner Koch  <wk@gnupg.org>

	* src/err-codes.h.in: Renamed description for CARD_RESET.

2004-06-28  Werner Koch  <wk@gnupg.org>

	* src/err-codes.h.in: Add GPG_ERR_INV_REQUEST.

2004-06-08  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (mkerrcodes): Prefix mkerrcodes.c with $(srcdir)
	to fix VPATH build.

2004-05-25  Marcus Brinkmann  <marcus@g10code.de>

	* src/err-codes.h.in: Add GPG_ERR_PROTOCOL_VIOLATION and
	GPG_ERR_INV_MAC.

2004-04-23  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (mkerrcodes): Do not use $< in non-inference rule.
	(code-from-errno.h): Likewise.

2004-04-22  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (gpg_error_CPPFLAGS): New variable.
	(localedir): Likewise.
	* gpg-error.c: Include the gettext headers.
	(init_i18n): New function.
	(main): Call init_i18n, gettextize messages.

2004-04-02  Thomas Schwinge  <schwinge@nic-nac-project.de>

	* autogen.sh: Added ACLOCAL_FLAGS.

2004-04-19  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg-error.m4: Quote first argument to AC_DEFUN.

	* src/mkerrcodes.awk: Allow whitespace before expanded
	preprocessor macro (ie, the error code value).  Needed for Solaris 2.8.

2004-04-08  Moritz Schulte  <moritz@g10code.de>

	* src/gpg-error.c (main): Return zero on success.

2004-03-09  Marcus Brinkmann  <marcus@g10code.de>

	* libgpg-error.spec.in (%files): Add gpg-error.  Submitted by
	Albrecht Dreﬂ <albrecht.dress@arcor.de>.
	
	* src/mkerrcodes.c (main): Fix type of argv.  Return something.

2004-03-09  Werner Koch  <wk@gnupg.org>

	* Makefile.am (dist-hook): Create a VERSION file for use by mkdiff.

	* src/Makefile.am (mkerrcodes.h): Let CPP work on a temporary file.
	(CLEANFILES): Add that temporary file.
	* configure.ac (AC_PROG_CPP): Added.

	* src/err-codes.h.in: Removed trailing spaces from
	GPG_ERR_NOT_LOCKED.

2004-03-08  Werner Koch  <wk@gnupg.org>

	* src/err-sources.h.in: Added GPG_ERR_SOURCE_GSTI.

2004-03-07  Marcus Brinkmann  <marcus@g10code.de>

	Released 0.7.

	* configure.ac: Bumbed up LIBGPG_ERROR_LT_REVISON.

	* src/gpg-error-config.in: Fix last change.
	* src/gpg-error-config.in (Options): Do not emit include and lib
	directory for prefix "/usr" or "".

	* tests/Makefile.am (INCLUDES): Change to -I$(top_srcdir)/src to
	-I$(top_builddir).

2004-03-01  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Define CC_FOR_BUILD.
	* src/Makefile.am (BUILT_SOURCES): Add gpg-error.h.
	(EXTRA_DIST): Add mkerrcodes.awk and mkerrcodes.c.
	(CLEANFILES): Add mkerrcodes.h and mkerrcodes.
	(mkerrcodes.h): New target.
	(mkerrcodes): New target.
	(code-from-errno.h): Rewritten.

	* src/errnos.in: Remove include statement (which was ignored
	anyway).
	* src/mkerrcodes.awk: New file.
	* src/mkerrcodes.c: New file.
	
2004-02-27  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (noinst_PROGRAMS): Rename to ...
	(bin_PROGRAMS): ... this.

	* src/gpg-error.h.in: Add extern "C" closure for C-- compilers.

	* src/Makefile.am (noinst_PROGRAMS): New variable.
	(gpg_error_LDADD): New variable.
	(gpg_error_SOURCES): New variable.
	(EXTRA_DIST): Add mkheader.awk and gpg-error.h.in.
	(BUILT_SOURCES): Add err-sources-sym.h, err-codes-sym.h and
	errnos-sym.h.
	(CLEANFILES): Add err-sources-sym.h, err-codes-sym.h,
	errnos-sym.h and gpg-error.h.
	(err-codes.h, err-sources.h): Add -v textidx=3 to mkstrtable.awk
	invocation.
	(err-codes-sym.h): New target.
	(err-sources-sym.h): New target.
	(gpg-error.h): New rule.
	* src/mkstrtable.awk: Skip the second field (which contains the
	error code symbol).
	(FS): Allow more than one tab as field separator.
	Allow to specify the field to be used as text with the variable
	textidx.
	Allow to suppress gettext markers in the output.
	Allow to specify a prefix to the messages.
	Allow to specify a namespace for the variable and macro names.
	* src/mkerrnos.awk (FS): Initialize.  Understand variable
	errnoidx, which defaults to 2, to cope with the error names being
	in a different column than the first.
	* src/mkerrcodes1.awk: Likewise.  Use \t as separator.
	* src/mkheader.awk: New file.
	* src/errnos.in: Add error code numbers (relativ to
	GPG_ERR_SYSTEM_ERROR).
	* src/strerror-sym.c: New file.
	* src/strsources-sym.c: New file.
	* src/err-codes.h.in: Add the error code symbol for every error
	code.
	(GPG_ERR_BUFFER_TOO_SHORT): Fix error code (it is 200, not 199).
	* src/err-sources.h.in: Likewise.
	* src/gpg-error.h.in: New file.
	* src/gpg-error.h: File removed.
	* src/gpg-error.c: New file.

2004-02-18  Werner Koch  <wk@gnupg.org>

	* src/gpg-error-config.in: Ignore setting of --prefix.

2004-02-11  Werner Koch  <wk@gnupg.org>

	* autogen.sh (check_version): Removed bashism and simplified.

2004-02-03  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h: Added GPG_ERR_NOT_LOCKED.

2003-12-22  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h: Added GPG_ERR_LOCALE_PROBLEM.

2003-12-12  Werner Koch  <wk@gnupg.org>

	* src/err-codes.h.in: s/revoced/revoked/.

2003-12-08  Werner Koch  <wk@gnupg.org>

	* README.CVS: Enhanced.

	* autogen.sh: New.
	* Makefile.am (EXTRA_DIST): Added autogen.sh.

2003-11-14  Werner Koch  <wk@gnupg.org>

	* configure.ac: Bumbed version number to 0.7.

	Released 0.6.
	
	* configure.ac: Bumbed up LIBGPG_ERROR_LT_REVISON.

2003-11-13  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h, src/err-codes.h.in: Removed: GPG_ERR_IO_ERROR,
	GPG_ERR_FILE_ERROR, GPG_ERR_READ_ERROR, GPG_ERR_WRITE_ERROR,
	GPG_ERR_LOCK_ERROR.

	* src/gpg-error.h (GPG_ERR_SOURCE_DIRMNGR): Fixed typo.

2003-11-12  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h, src/err-codes.h.in: Added these codes:
	GPG_ERR_INV_ATTR, GPG_ERR_NO_VALUE, GPG_ERR_NOT_FOUND,
	GPG_ERR_VALUE_NOT_FOUND, GPG_ERR_SYNTAX, GPG_ERR_INV_CRL,
	GPG_ERR_BAD_BER, GPG_ERR_INV_BER, GPG_ERR_ELEMENT_NOT_FOUND,
	GPG_ERR_IDENTIFIER_NOT_FOUND, GPG_ERR_INV_TAG, GPG_ERR_INV_LENGTH,
	GPG_ERR_INV_KEYINFO, GPG_ERR_UNEXPECTED_TAG, GPG_ERR_NOT_DER_ENCODED,
	GPG_ERR_NO_CMS_OBJ, GPG_ERR_INV_CMS_OBJ, GPG_ERR_UNKNOWN_CMS_OBJ,
	GPG_ERR_UNSUPPORTED_CMS_OBJ, GPG_ERR_UNSUPPORTED_ENCODING,
	GPG_ERR_UNSUPPORTED_CMS_VERSION, GPG_ERR_UNKNOWN_ALGORITHM,
	GPG_ERR_ENCODING_PROBLEM, GPG_ERR_INV_STATE, GPG_ERR_DUP_VALUE,
	GPG_ERR_MISSING_ACTION, GPG_ERR_MODULE_NOT_FOUND, 
	GPG_ERR_INV_OID_STRING, GPG_ERR_INV_TIME, GPG_ERR_INV_CRL_OBJ,
	GPG_ERR_UNSUPPORTED_CRL_VERSION, GPG_ERR_INV_CERT_OBJ,
	GPG_ERR_UNKNOWN_NAME, GPG_ERR_IO_ERROR, GPG_ERR_FILE_ERROR,
	GPG_ERR_READ_ERROR, GPG_ERR_WRITE_ERROR, GPG_ERR_LOCK_ERROR,
	GPG_ERR_BUFFER_TOO_SHORT.
	
2003-11-06  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h, src/err-sources.h.in: Added error sources for
	Libksba and Dirmngr. Added GPG_ERR_TRUNCATED.

2003-11-03  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h: Allow GPG_ERR_INLINE to get overriden, so that 
	one can use the -D flag to specify the inline keyword.  Suggested
	by Philip Brown.

2003-10-28  Moritz Schulte  <mo@g10code.com>

	* src/gpg-error.h (gpg_err_code_t): Added:
	GPG_ERR_NO_ENCODING_METHOD, GPG_ERR_NO_ENCRYPTION_SCHEME,
	GPG_ERR_NO_SIGNATURE_SCHEME.
	* src/err-codes.h.in: Likewise.
	
2003-10-25  Werner Koch  <wk@gnupg.org>

	* src/strerror.c: Include stdio.h for snprintf
	prototype. Suggested by papadopo@shfj.cea.fr, fixes #gnupg/214.

2003-10-11  Moritz Schulte  <mo@g10code.com>

	* src/gpg-error.m4: Do not ask gpg-error-config to change the
	prefix, if --with-gpg-error-prefix=... is used.

2003-10-06  Marcus Brinkmann  <marcus@g10code.de>

	Released 0.5.

	* configure.ac (LIBGPG_ERROR_LT_CURRENT, LIBGPG_ERROR_LT_AGE):
	Bump up by one.

2003-09-30  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg-error.h: Include <stddef.h>.
	(gpg_strerror_r): Change prototype to match POSIX.  Rewritten for
	that prototype.
	* src/strerror.c: Include <errno.h>.
	(gpg_strerror_r, system_strerror_r): Change prototype to match
	POSIX.  Rewritten for that prototype.  Rewritten for that
	prototype.

2003-09-30  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h: Add PIN_NOT_SYNCED.

2003-09-13  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Invoke AC_FUNC_STRERROR_R.
	* src/gpg-error.h (gpg_strerror_r): New prototype.
	* src/strerror.c (system_strerror_r): New function.
	(gpg_strerror_r): New function.

2003-09-04  Marcus Brinkmann  <marcus@g10code.de>

	* libgpg-error.spec.in: New file.
	* Makefile.am (EXTRA_DIST): Add libgpg-error.spec.in.
	* AUTHORS (Maintainer): Add Robert Schiele as contributor.
	
2003-09-03  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg-error-config.in: Rewritten.

2003-09-03  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac (AC_INIT): Bump up version number.

2003-09-03  Marcus Brinkmann  <marcus@g10code.de>

	Released 0.4.

	* src/gpg-error.h: Define GPG_ERR_INLINE to nothing if the
	compiler does not implement C99.
	* configure.ac: (AC_INIT): Bump up version number.

2003-09-02  Moritz Schulte  <mo@g10code.com>

	* src/gpg-error.h (gpg_err_code_t): Added: GPG_ERR_NO_PRIME.
	* src/err-codes.h.in: Likewise.

2003-08-19  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg-error.h (GPG_ERR_SYSTEM_ERROR): Fix value (should have
	been 2^15, was 2^14).
	(GPG_ERR_CODE_DIM): Fix value (should have been 65536, was 32768).
	Change the error codes of all system errors to have the
	GPG_ERR_SYSTEM_ERROR bit set.

2003-08-06  Marcus Brinkmann  <marcus@g10code.de>

	* code-from-errno.c, code-to-errno.c, err-codes.h.in,
	err-sources.h.in, errnos.in, gpg-error.h, strerror.c, strsource.c:
	Fix typo in copyright notice.

2003-07-31  Marcus Brinkmann  <marcus@g10code.de>

	* README: Clarify copyright conditions.
	* src/mkstrtable.awk: Don't claim in the copyright information
	that this program is part of libgpg-error.
	* src/mkerrnos.awk: Likewise.
	* src/mkerrcodes1.awk: Likewise.
	* src/mkerrcodes2.awk: Likewise.

2003-07-31  Marcus Brinkmann  <marcus@g10code.de>

	* src/strerror.c (gpg_strerror): Use CODE, not ERR to map error
	code to errno.

	* configure.ac (AC_INIT): Bump version to 0.3.

	Released 0.3.

2003-07-30  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac (AC_INIT): Bump version to 0.2.

	Released 0.2.

2003-07-17  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h: Add HARDWARE, PIN_BLOCKED and USE_CONDITIONS.

2003-07-16  Moritz Schulte  <moritz@g10code.com>

	* src/gpg-error.h (gpg_err_code): Cast return value to
	gpg_err_code_t.  Thanks to Ralf Schneider
	<ralf@tapfere-schneiderleins.de>.
	(gpg_err_source): Cast return value to gpg_err_source_t.  Thanks
	to Ralf Schneider <ralf@tapfere-schneiderleins.de>.

2003-07-15  Moritz Schulte  <moritz@g10code.com>

	* src/gpg-error.m4 (AM_PATH_GPG_ERROR): Use `0.0' instead of
	`0.0.0' in case no version number is given, since the following
	sed commands expect the former form, not a triplet.

2003-07-06  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg-error.h (GPG_ERR_INLINE): Define macro.  Use it instead
	of __inline__ in this file.

2003-06-30  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h: Add WRONG_CARD.

2003-06-22  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg-error.h: Fix value of GPG_ERR_CANCELED.

2003-06-06  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Define GPG_ERROR_CONFIG_LIBS and
	GPG_ERROR_CONFIG_CFLAGS.
	Add src/gpg-error-config to config files.
	* src/Makefile.am (EXTRA_DIST): Add gpg-error-config.in and
	gpg-error.m4.
	(bin_SCRIPTS): New variable.
	(m4datadir, m4data_DATA): New variables.
	* src/gpg-error-config.in: New file.
	* src/gpg-error.m4: New file.

	Released 0.1.

2003-06-05  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg-error.h (gpg_err_make_from_errno): Fix implementation.

	* src/gpg-error.h (gpg_err_code_t): Add GPG_ERR_SIG_EXPIRED.
	(err-codes.h.in): Likewise.

	* src/gpg-error.h (gpg_error_from_errno): Change return type to
	gpg_error_t.

2003-06-04  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg-error.h (gpg_err_code_t): Add GPG_ERR_INV_ENGINE,
	GPG_ERR_PUBKEY_NOT_TRUSTED, GPG_ERR_DECRYPT_FAILED,
	GPG_ERR_KEY_EXPIRED.
	(gpg_make_error): Rename to gpg_err_make.
	(gpg_error): Use here.
	* tests/t-strerror.c (main): And here.
	(gpg_make_error_from_errno): Rename to gpg_err_make_from_errno.

	* src/gpg-error.h (gpg_make_error_from_errno): New inline function.
	(gpg_error_from_errno): Likewise.

	* src/code-from-errno.c (gpg_err_code_from_errno): Handle the case
	of no error at all.

2003-06-04  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg-error.h (gpg_err_source_t): Add GPG_ERR_SOURCE_USER_1 to
	GPG_ERR_SOURCE_USER_4.
	(gpg_err_code_t): Add GPG_ERR_USER_1 to GPG_ERR_USER_16.
	* src/err-sources.h.in: Likewise.
	* src/err-codes.h.in: Likewise.

	* src/gpg-error.h: Rename GPG_ERR_INVALID_RESPONSE to
	GPG_ERR_INV_RESPONSE, GPG_ERR_INVALID_CARD to GPG_ERR_INV_CARD,
	GPG_ERR_INVALID_INDEX to GPG_ERR_INV_INDEX, GPG_ERR_INVALID_ID to
	GPG_ERR_INV_ID, GPG_ERR_AGENT_ERROR to GPG_ERR_AGENT,
	GPG_ERR_ASSUAN_ERROR to GPG_ERR_ASSUAN, GPG_ERR_PIN_ENTRY_ERROR to
	GPG_ERR_PIN_ENTRY, GPG_ERR_DIRMNGR_ERROR to GPG_ERR_DIRMNGR,
	GPG_ERR_CARD_ERROR to GPG_ERR_CARD, GPG_ERR_CONFIGURATION_ERROR to
	GPG_ERR_CONFIGURATION, GPG_ERR_SCDAEMON_ERROR to GPG_ERR_SCDAEMON.

2003-06-03  Werner Koch  <wk@gnupg.org>

	* src/gpg-error.h, src/err-codes.h.in: Add codes for TIMEOUT,
	INV_HANDLE, NOTHING_FOUND, WRONG_BLOB_TYPE and MISSING_VALUE.
	* src/gpg-error.h, src/err-sources.h.in: Add KEYBOX which is the
	keybox subsystem of GnuPG.

2003-06-02  Moritz Schulte  <moritz@g10code.com>

	* src/gpg-error.h: Fix description of gpg_err_code_to_errno
	(i.e. substitute `ERR' with `CODE').
	* src/code-to-errno.c: Likewise.

	* tests/t-strerror.c: Include <gpg-error.h> instead of
	<gpg/error.h>.

2003-06-01  Marcus Brinkmann  <marcus@g10code.de>

	* src/strerror.c: Include <string.h>.

	* src/gpg-error.h (gpg_err_code_t): Remove GPG_ERR_FILE_READ,
	GPG_ERR_FILE_WRITE, GPG_ERR_FILE_OPEN, GPG_ERR_FILE_CREATE,
	GPG_ERR_FILE_CLOSE, GPG_ERR_FILE_DELETE, GPG_ERR_FILE_EXISTS,
	GPG_ERR_FILE, GPG_ERR_IO, GPG_ERR_OUT_OF_CORE, GPG_ERR_READ_ERROR,
	GPG_ERR_WRITE_ERROR.
	* src/err-codes.h.in: Likewise.

	* src/Makefile.am (EXTRA_DIST): Add err-sources.h and err-codes.h.

	* src/mkerrcodes1.awk: New file.
	* src/mkerrcodes2.awk: New file.
	* src/mkerrnos.awk: New file.
	* src/errnos.in: New file.
	* src/code-from-errno.c: New file.
	* src/code-to-errno.c: New file.
	* src/Makefile.am (libgpg_error_la_SOURCES): Remove err-sources.h
	and err-codes.h.  Add code-to-errno.c and code-from-errno.c.
	(code-to-errno.h): New target.
	(code-from-errno.h): Likewise.
	(EXTRA_DIST): Add mkerrnos.awk, errnos.in, and mkerrcodes1.awk.
	(BUILT_SOURCES): Add code-to-errno.h and code-from-errno.h.
	(CLEANFILES): Likewise.
	* src/strerror.c (gpg_strerror): Use strerror for system errors.
	* src/err-codes.h.in: Add 16382 (Unknown system error).
	* src/gpg-error.h (gpg_err_code_t): Add system errors.
	(GPG_ERR_CODE_DIM): Change to 32768.
	(GPG_ERR_SYSTEM_ERROR): New macro.
	(gpg_err_code_from_errno): New prototype.
	(gpg_err_code_to_errno): Likewise.

	* src/Makefile.am (nobase_include_HEADERS): Rename target to ...
	(include_HEADERS): ... this.  Change file to gpg-error.h
	(libgpg_error_la_SOURCES): Change gpg/error.h to gpg-error.h.
	* src/gpg/error.h: Move to ...
	* src/gpg-error.h: ... here.  New file.
	* src/strerror.c: Include <gpg-error.h>, not <gpg/error.h>.
	* src/strsource.c: Likewise.
	
	* src/gpg/error.h (gpg_error_t): Change type to unsigned int, not
	long.

2003-05-26  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg/error.h (gpg_make_error): Only OR in the error source if
	there is an error, this allows to test for success with "if (!err)"
	and similar tests.

2003-05-15  Marcus Brinkmann  <marcus@g10code.de>

	* src/mkstrtable.awk: Add exception clause to license about the
	output of the script.
	* configure.ac: Change license to LGPL 2.1 or later.
	* Makefile.am: Likewise.
	* src/Makefile.am: Likewise.
	* src/err-codes.h.in: Likewise.
	* src/err-sources.h.in: Likewise.
	* src/strsource.c: Likewise.
	* src/strerror.c: Likewise.
	* src/gpg/error.h: Likewise.
	* tests/Makefile.am: Likewise.

	* src/mkstrtable.awk: New variable HEADER.  Copy input until first
	line with an actual code and description occurs.	
	* src/err-codes.h.in: Uncomment license, so it is copied into the
	output.
	* src/err-sources.h.in: Likewise.

2003-05-15  Marcus Brinkmann  <marcus@g10code.de>

	* COPYING.LIB: New file.

2003-05-15  Marcus Brinkmann  <marcus@g10code.de>

	* Initial check-in.

 Copyright 2003 g10 Code GmbH

 This file is free software; as a special exception the author gives
 unlimited permission to copy and/or distribute it, with or without
 modifications, as long as this notice is preserved.

 This file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
 implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
